<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Zen - Centro de Operaciones</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@800&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- BRANDING VARIABLES --- */
        :root {
            --accent-color: #22D3EE;
            --accent-color-hover: #06B6D4;
            --accent-text-color: #0F172A;
            --bg-color: #0F172A;
            --surface-color: rgba(30, 41, 59, 0.7); /* Slate-800 with more opacity for performance */
            --border-color: rgba(51, 65, 85, 0.6);
            --text-primary: #F1F5F9;
            --text-secondary: #94A3B8;
            --ai-glow-color: #a855f7; /* Purple 500 */
        }

        /* --- ESTILOS COMPARTIDOS Y FONDO OPTIMIZADO --- */
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color);
            background-image: radial-gradient(at 27% 37%, hsla(215, 98%, 61%, 0.1) 0px, transparent 50%), 
                              radial-gradient(at 97% 21%, hsla(190, 98%, 61%, 0.1) 0px, transparent 50%), 
                              radial-gradient(at 75% 88%, hsla(280, 96%, 63%, 0.1) 0px, transparent 50%);
            color: var(--text-primary);
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden; /* CRITICAL FIX for layout issues */
        }

        .accent-color { color: var(--accent-color); }
        .accent-bg { 
            background: linear-gradient(145deg, var(--accent-color), var(--accent-color-hover));
            color: var(--accent-text-color); 
            border: none;
            box-shadow: 0 4px 15px -5px var(--accent-color);
        }
        .accent-bg:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px -5px var(--accent-color);
        }
        
        /* --- TARJETAS OPTIMIZADAS (SIN BACKDROP-FILTER) --- */
        .card-bg { 
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
        }

        .item-disabled {
            opacity: 0.3; pointer-events: none; cursor: not-allowed;
            background-color: rgba(17, 24, 39, 0.7) !important; 
            border-color: #334155 !important;
        }
        
        /* --- UX EN TARJETAS MEJORADO --- */
        .item-card, .item-card label {
            -webkit-user-select: none; -ms-user-select: none; user-select: none;
        }
        
        .tooltip-container { position: relative; }
        .tooltip-content {
            visibility: hidden; opacity: 0; position: absolute; top: 100%; left: 50%;
            transform: translateX(-50%) translateY(8px); z-index: 100; width: max-content; 
            max-width: 380px; padding: 10px 14px; border-radius: 8px; 
            background-color: rgba(30, 41, 59, 0.9);
            border: 1px solid var(--accent-color); color: var(--text-primary); 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            font-size: 0.875rem; line-height: 1.5; transition: opacity 0.3s, transform 0.3s;
            pointer-events: none; text-align: left;
        }
        .item-card:hover .tooltip-content, .tooltip-container:hover .tooltip-content { visibility: visible; opacity: 1; transform: translateX(-50%) translateY(5px); }
        .tooltip-content::before {
            content: ''; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            border-width: 6px; border-style: solid; border-color: transparent transparent rgba(30, 41, 59, 0.9) transparent;
        }
        .custom-checkbox, .custom-radio {
            appearance: none; -webkit-appearance: none; width: 1.5rem; height: 1.5rem;
            border-radius: 0.375rem; border: 2px solid #64748B; cursor: pointer;
            transition: all 0.2s; position: relative; flex-shrink: 0;
            background-color: rgba(255,255,255,0.1);
        }
        .custom-checkbox:checked, .custom-radio:checked {
            background-color: var(--accent-color); border-color: var(--accent-color);
        }
        .custom-checkbox:checked::after {
            content: '✓'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); color: var(--accent-text-color); 
            font-size: 0.9rem; font-weight: bold;
        }
        .custom-radio { border-radius: 50%; }
        .item-card { 
            transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
            will-change: transform, box-shadow, border-color;
        }
        .item-card:not(.item-disabled):hover {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px -5px var(--accent-color);
            transform: translateY(-3px); z-index: 20;
        }
        
        /* ESTILO MEJORADO PARA INPUTS */
        .styled-input, .styled-textarea, .styled-select {
            padding: 0.75rem; background-color: rgba(31, 41, 55, 0.5); color: var(--text-secondary); 
            border: 1px solid var(--border-color); border-radius: 0.5rem; 
            transition: all 0.2s ease;
        }
        .styled-input:focus, .styled-textarea:focus, .styled-select:focus {
            outline: none; border-color: var(--accent-color); 
            box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.3);
            background-color: rgba(31, 41, 55, 0.8);
        }
        .styled-textarea { min-height: 80px; }
        .action-button {
            padding: 0.5rem 0.75rem; font-size: 0.875rem;
            border-radius: 0.5rem; transition: background-color 0.2s;
        }

        /* --- ESTILOS SISTEMA DE PUNTOS --- */
        .points-display {
            background-color: rgba(15, 23, 42, 0.6); 
            border: 1px solid var(--accent-color);
            border-radius: 0.5rem; padding: 0.75rem 1rem; margin-bottom: 1rem;
            text-align: center; font-weight: bold; font-size: 1.1rem; color: #F8FAFC;
        }
        .points-display span { color: var(--accent-color); }

        /* --- ESTILOS CHAT IA REFINADOS --- */
        #ai-assistant-container {
            --chat-bg: rgba(30, 41, 59, 0.7);
            --chat-inner-bg: rgba(15, 23, 42, 0.6);
            --chat-border: rgba(51, 65, 85, 0.6);
            --chat-text: var(--text-primary);
            --chat-bubble-ai-bg: #334155;
            --chat-bubble-ai-text: #F8FAFC;
            --chat-bubble-user-bg: var(--accent-color);
            --chat-bubble-user-text: var(--accent-text-color);
            --chat-mode-btn-text: #94a3b8;
            --chat-input-bg: rgba(31, 41, 55, 0.5);
            --chat-input-border: var(--border-color);
            --chat-input-text: #94A3B8;
            --icon-color: #94A3B8;
            transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
            box-shadow: 0 0 25px -8px var(--ai-glow-color);
        }
        #ai-assistant-container.chat-light-mode {
            --chat-bg: rgba(241, 245, 249, 0.8);
            --chat-inner-bg: #FFFFFF;
            --chat-border: #CBD5E1;
            --chat-text: #1E293B;
            --chat-bubble-ai-bg: #E2E8F0;
            --chat-bubble-ai-text: #1E293B;
            --chat-bubble-user-bg: var(--accent-color);
            --chat-bubble-user-text: var(--accent-text-color);
            --chat-mode-btn-text: #475569;
            --chat-input-bg: rgba(248, 250, 252, 0.9);
            --chat-input-border: #E2E8F0;
            --chat-input-text: #1E293B;
            --icon-color: #475569;
            box-shadow: 0 0 25px -8px var(--accent-color);
        }
        #ai-assistant-container { 
            background-color: var(--chat-bg); color: var(--chat-text); border-color: var(--chat-border);
        }
        #ai-assistant-container h2 { color: var(--ai-glow-color); }
        #ai-assistant-container.chat-light-mode h2 { color: #9333ea; }
        #chat-messages { background-color: var(--chat-inner-bg); border-color: var(--chat-border); }
        .chat-bubble.chat-bubble-ai { background-color: var(--chat-bubble-ai-bg); color: var(--chat-bubble-ai-text); }
        .chat-bubble.chat-bubble-user { background: linear-gradient(145deg, var(--accent-color), var(--accent-color-hover)); color: var(--chat-bubble-user-text); }
        #chat-mode-selector { border-bottom-color: var(--chat-border); }
        .chat-mode-btn { padding: 8px 16px; border: none; background: transparent; color: var(--chat-mode-btn-text); font-weight: 600; cursor: pointer; transition: all 0.3s; border-bottom: 3px solid transparent; }
        .chat-mode-btn.active { color: var(--accent-color); border-bottom-color: var(--accent-color); }
        #ai-assistant-container #chat-input { background-color: var(--chat-input-bg); border-color: var(--chat-input-border); color: var(--chat-input-text); }
        
        .theme-switch-wrapper { display: flex; align-items: center; gap: 8px; }
        .theme-switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .theme-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #475569; transition: .4s; border-radius: 20px; }
        .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent-color); }
        input:checked + .slider:before { transform: translateX(20px); }
        .theme-switch-wrapper .icon { width: 16px; height: 16px; color: var(--icon-color); transition: color 0.3s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
        .animate-bounce { animation: bounce 1.4s infinite ease-in-out both; }
        
        /* --- HIERARCHY & INTERACTION FIX --- */
        #splash-screen { z-index: 100000; }
        #tour-tooltip { z-index: 99999; }
        .tour-highlight-active { z-index: 99998; }
        #tour-overlay { z-index: 99997; }
        .modal-overlay { z-index: 90000; }
        #ai-chat-focus-container { z-index: 80000; }
        
        /* --- ESTILOS TOUR GUIADO PROFESIONAL (MEJORADO) --- */
        #tour-tooltip {
            font-size: 1rem; line-height: 1.6;
            transition: top 0.3s ease-in-out, left 0.3s ease-in-out, opacity 0.3s;
        }
        .tour-highlight-active {
            position: relative; border-radius: 8px;
            box-shadow: 0 0 0 4px var(--accent-color);
            transition: box-shadow 0.3s ease-in-out;
        }
        #tour-tooltip .tour-arrow {
            position: absolute;
            width: 0; height: 0;
            border-style: solid;
            transform: translateX(-50%);
        }
        #tour-tooltip.tooltip-is-above .tour-arrow {
            top: 100%;
            border-width: 8px 8px 0 8px; /* Flecha hacia abajo */
            border-color: var(--accent-color) transparent transparent transparent;
        }
        #tour-tooltip.tooltip-is-below .tour-arrow {
            bottom: 100%;
            border-width: 0 8px 8px 8px; /* Flecha hacia arriba */
            border-color: transparent transparent var(--accent-color) transparent;
        }


        /* Spinner */
        .spinner { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* --- SPLASH SCREEN STYLES (RESPONSIVE FIX) --- */
        #splash-screen {
            position: fixed; inset: 0;
            display: flex; align-items: center; justify-content: center;
            background: #0F172A;
            transition: opacity 0.5s ease-out;
            overflow-y: auto;
            padding: 1rem;
        }
        .splash-container { text-align: center; width: 100%; max-width: 90vw; }
        @media (min-width: 640px) {
            .splash-container {
                max-width: 640px;
            }
        }
        .lotus-icon {
            width: 100px; height: 100px; margin: 0 auto 1.5rem;
            stroke: #22D3EE; stroke-width: 2; fill: transparent;
        }
        .splash-title {
            font-family: 'Orbitron', sans-serif; font-size: clamp(2rem, 8vw, 4rem);
            line-height: 1.1; text-transform: uppercase; letter-spacing: 4px;
            text-shadow: 0 0 15px rgba(34, 211, 238, 0.6);
        }
        .splash-byline {
            font-size: clamp(0.9rem, 2vw, 1.0rem); color: #94A3B8;
            letter-spacing: 2px; margin-top: 0.5rem;
        }
        .splash-byline a { text-decoration: none; color: inherit; }
        .splash-action-button {
            display: inline-block;
            background: #22D3EE; color: #0F172A; font-weight: bold;
            padding: 0.75rem 1.5rem; border-radius: 0.5rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .splash-action-button:hover { background: #06B6D4; transform: translateY(-2px); }
        .splash-secondary-button {
            background: transparent; border: 1px solid #334155;
            color: #94A3B8;
        }
        .splash-secondary-button:hover { background: #1E293B; border-color: #64748B; }
        .details-section {
            max-height: 0;
            overflow: hidden;
            width: 100%;
            transition: max-height 0.7s ease-in-out;
            text-align: left;
            margin: 2rem auto 0;
            color: #CBD5E1;
        }
        .details-section.open {
            max-height: 80vh; /* Use viewport height for better control */
            overflow-y: auto;
        }
        .tts-highlight {
            background-color: rgba(34, 211, 238, 0.15);
            border-left: 3px solid var(--accent-color);
            padding-left: 8px; transition: all 0.2s ease-in-out;
        }

        /* --- OPTIMIZACIONES DE FLUIDEZ (SIN BACKDROP-FILTER) --- */
        .modal-overlay {
            background-color: rgba(15, 23, 42, 0.8);
            transition: opacity 0.3s ease-in-out;
        }
        .modal-overlay > div {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .modal-overlay.opacity-0 { opacity: 0; }
        .modal-overlay.opacity-0 > div { transform: scale(0.95); opacity: 0; }
        #tasksDashboard { transition: opacity 0.3s ease-in-out; }
        
        .btn-press-feedback { transition: transform 0.1s ease-out; }
        .btn-press-feedback:active:not(:disabled) { transform: scale(0.97); }
        
        /* --- ESTILOS ESTUDIO DE CONTENIDO --- */
        .studio-tab { border-bottom: 3px solid transparent; transition: all 0.2s; }
        .studio-tab.active { color: var(--accent-color); border-bottom-color: var(--accent-color); }
        .studio-tab-content { display: none; }
        .studio-tab-content.active { display: block; }

        /* --- MODO ENFOQUE CHAT --- */
        #ai-assistant-container.is-focused { height: 100% !important; }

        /* --- ESTILOS ADICIONALES PARA MEJORAR JERARQUÍA --- */
        h1, h2, h3 { letter-spacing: -0.02em; }
        h1#main-title { letter-spacing: 0.05em; text-shadow: 0 0 8px rgba(34, 211, 238, 0.4); }
        .card-bg h2 {
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.75rem;
            margin-bottom: 1.25rem !important;
        }
        
        /* --- BARRA DE RENDIMIENTO FIJA (NUEVO DISEÑO) --- */
        #performance-dashboard-bar {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        .dashboard-value {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            font-weight: 700;
            line-height: 1;
            white-space: nowrap; /* Evita que el número se parta */
        }

        /* --- ESTILOS ACORDEÓN DE SERVICIOS --- */
        .accordion-item .accordion-header {
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            text-align: left;
        }
        .accordion-item .accordion-header:hover {
            background-color: rgba(51, 65, 85, 0.4); /* slate-800 with opacity */
        }
        .accordion-item .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .accordion-item.is-open .accordion-content {
            max-height: 3000px; /* Suficientemente grande para cualquier contenido */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .accordion-item .accordion-chevron {
            transition: transform 0.3s ease-in-out;
            flex-shrink: 0;
            margin-left: 1rem;
        }
        .accordion-item.is-open .accordion-chevron {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="text-slate-50 min-h-screen">

    <!-- SPLASH SCREEN -->
    <div id="splash-screen">
        <div class="splash-container p-4 w-full">
            <svg class="lotus-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 5 C40 35 40 65 50 95 M50 5 C60 35 60 65 50 95 M50 80 C30 60 30 40 38 15 M50 80 C70 60 70 40 62 15 M50 95 C20 80 15 50 28 40 M50 95 C80 80 85 50 72 40 M28 40 C40 60 45 75 50 80 M72 40 C60 60 55 75 50 80" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h1 class="splash-title">Proyecto Zen</h1>
            <p class="splash-byline">by <a href="https://websoin.netlify.app/" target="_blank" rel="noopener noreferrer" class="hover:text-white transition">SO->IN</a></p>

            <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
                <button id="start-app-btn" class="splash-action-button w-full sm:w-auto">Comenzar</button>
                <button id="toggle-details-btn" class="splash-action-button splash-secondary-button w-full sm:w-auto">Saber más</button>
            </div>

            <div id="detailsSection" class="details-section">
                <div class="p-4 border border-slate-700 rounded-lg bg-slate-800/50 space-y-4 w-full max-w-4xl mx-auto">
                    <div class="text-center">
                        <button id="read-aloud-btn" class="bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-6 rounded-lg transition shadow-md btn-press-feedback">
                            Leer en voz alta
                        </button>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg text-cyan-400 mb-2">Tus 3 Ventajas Competitivas</h3>
                        <p class="mb-2 text-sm" data-tts-content="Pilar 1: Tu Arsenal de Ventas IA. Esto no es solo una herramienta, es tu ventaja competitiva. Un experto en ventas IA que entiende las necesidades de tu cliente y construye propuestas ganadoras usando tu propio catálogo de servicios. Está diseñado para hacerte lucir como un estratega y cerrar tratos más rápido.">
                            <b>1. Tu Arsenal de Ventas IA:</b> Esto no es solo una herramienta, es tu ventaja competitiva. Un experto en ventas IA que entiende las necesidades de tu cliente y construye propuestas ganadoras usando <em>tu propio</em> catálogo de servicios. Está diseñado para hacerte lucir como un estratega y cerrar tratos más rápido.
                        </p>
                        <p class="mb-2 text-sm" data-tts-content="Pilar 2: Proyecta Profesionalismo Instantáneo. Te damos una plataforma que automatiza las partes tediosas para que te concentres en la relación con el cliente. Genera propuestas 'marca blanca' con tu logo, briefs técnicos para tu equipo y gestiona todo tu pipeline de ventas visualmente. Tú vendes, la plataforma organiza.">
                            <b>2. Proyecta Profesionalismo Instantáneo:</b> Te damos una plataforma que automatiza las partes tediosas para que te concentres en la relación con el cliente. Genera propuestas 'marca blanca' con <em>tu logo</em>, briefs técnicos para tu equipo y gestiona todo tu pipeline de ventas visualmente. Tú vendes, la plataforma organiza.
                        </p>
                        <p class="mb-4 text-sm" data-tts-content="Pilar 3: Rentabilidad y Control Total. Esta plataforma es tu centro de comando financiero. La calculadora te permite definir tu margen de ganancia en cada proyecto, mostrándote al instante el precio final para el cliente y tus ganancias. Sin hojas de cálculo, sin adivinanzas. Visibilidad total, control total.">
                            <b>3. Rentabilidad y Control Total:</b> Esta plataforma es tu centro de comando financiero. La calculadora te permite definir tu margen de ganancia en cada proyecto, mostrándote al instante el precio final para el cliente y tus ganancias. Sin hojas de cálculo, sin adivinanzas. Visibilidad total, control total.
                        </p>
                    </div>
                    
                    <div class="border-t border-slate-700 pt-4">
                        <h3 class="font-bold text-lg text-cyan-400 mb-2">Tu Flujo de Venta en 5 Pasos</h3>
                         <ol class="list-decimal list-inside space-y-2 text-sm">
                            <li data-tts-content="Paso 1, Descubre la Necesidad Real: Usa el modo 'Analizar Conversación'. Pega el email o chat de un cliente. La IA actúa como tu analista, dándote una lista clara de sus puntos de dolor. Empezarás cada llamada de ventas con información precisa.">
                                <b>Descubre la Necesidad Real:</b> Usa el modo 'Analizar Conversación'. Pega el email o chat de un cliente. La IA actúa como tu analista, dándote una lista clara de sus puntos de dolor. Empezarás cada llamada de ventas con información precisa.
                            </li>
                            <li data-tts-content="Paso 2, Construye la Oferta Perfecta: Cambia al modo 'Constructor'. Describe el objetivo del cliente. La IA crea una propuesta estratégica desde tu catálogo, sugiriendo inteligentemente servicios de mayor valor (upsells) para maximizar el proyecto y tu ganancia.">
                                <b>Construye la Oferta Perfecta:</b> Cambia al modo 'Constructor'. Describe el objetivo del cliente. La IA crea una propuesta estratégica desde tu catálogo, sugiriendo inteligentemente servicios de mayor valor (upsells) para maximizar el proyecto y tu ganancia.
                            </li>
                            <li data-tts-content="Paso 3, Domina tu Rentabilidad: Ve a la calculadora. Define tu margen de ganancia deseado. El precio para el cliente se actualiza al instante. Aquí es donde tomas decisiones de negocio, no solo técnicas.">
                                <b>Domina tu Rentabilidad:</b> Ve a la calculadora. Define tu margen de ganancia deseado. El precio para el cliente se actualiza al instante. Aquí es donde tomas decisiones de negocio, no solo técnicas.
                            </li>
                            <li data-tts-content="Paso 4, Gestiona tu Pipeline como un Pro: Guarda la propuesta. Aparece en tu dashboard, tu centro de comando para todas las oportunidades. Marca tratos como 'urgentes', edita sobre la marcha y visualiza tus ganancias potenciales de un vistazo.">
                                <b>Gestiona tu Pipeline como un Pro:</b> Guarda la propuesta. Aparece en tu dashboard, tu centro de comando para todas las oportunidades. Marca tratos como 'urgentes', edita sobre la marcha y visualiza tus ganancias potenciales de un vistazo.
                            </li>
                            <li data-tts-content="Paso 5, Cierra el Trato con Documentos Impecables: Con un clic, genera dos documentos críticos: una propuesta profesional 'marca blanca' con tu marca para el cliente, y un brief técnico detallado para tu equipo interno o desarrolladores. Ahorras horas y proyectas una imagen excepcional.">
                                <b>Cierra el Trato con Documentos Impecables:</b> Con un clic, genera dos documentos críticos: una propuesta profesional 'marca blanca' con <em>tu marca</em> para el cliente, y un brief técnico detallado para tu equipo interno o desarrolladores. Ahorras horas y proyectas una imagen excepcional.
                            </li>
                         </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- MAIN APP CONTAINER (Initially Hidden) -->
    <div id="main-app" class="hidden p-4 sm:p-6 md:p-10">
        <!-- BARRA DE RENDIMIENTO FIJA -->
        <div id="performance-dashboard-bar" class="sticky top-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700 -mx-4 sm:-mx-6 md:-mx-10 px-4 sm:px-6 md:px-10 mb-8">
            <div class="max-w-7xl mx-auto py-2 flex flex-wrap justify-center sm:justify-around items-center gap-x-6 gap-y-2 text-sm">
                
                <div class="flex items-center gap-3">
                    <span class="font-semibold text-slate-400 uppercase tracking-wider">Ventas (Mes)</span>
                    <p id="sales-this-month" class="dashboard-value text-green-400">$0.00</p>
                </div>

                <div class="flex items-center gap-3">
                    <span class="font-semibold text-slate-400 uppercase tracking-wider">Ganancia (Mes)</span>
                    <p id="profit-this-month" class="dashboard-value text-yellow-400">$0.00</p>
                </div>
                
                <div class="flex items-center gap-3">
                    <span class="font-semibold text-slate-400 uppercase tracking-wider">Pipeline Activo</span>
                    <p id="active-pipeline-value" class="dashboard-value text-cyan-400">$0.00</p>
                </div>

                <div class="flex items-center gap-3">
                    <span class="font-semibold text-slate-400 uppercase tracking-wider">Tasa Cierre</span>
                    <p id="close-rate" class="dashboard-value text-fuchsia-400">0%</p>
                </div>
                
            </div>
        </div>

        <!-- TÍTULO PRINCIPAL Y CONTROLES -->
        <div class="max-w-7xl mx-auto">
            <header class="text-center mb-8">
                <div class="flex justify-center items-center gap-4 min-h-[48px]">
                    <img id="brand-logo-display" src="" alt="Logo" class="hidden h-12"/>
                    <h1 id="main-title" class="text-3xl sm:text-4xl font-extrabold accent-color tracking-wider">
                        Centro de Operaciones
                    </h1>
                </div>
                <p class="text-slate-400 mt-2">Crea, gestiona y exporta propuestas de alto impacto.</p>
                 <div class="mt-4 flex flex-wrap justify-center gap-3">
                    <button id="show-branding-modal-btn" class="text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        ⚙️ Configuración de Marca
                    </button>
                    <button id="change-api-key-btn" class="text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        🔑 Cambiar API Key
                    </button>
                    <button id="restart-tour-btn" class="text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        🔄 Reiniciar Tour
                    </button>
                    <button id="show-sales-channels-btn" class="text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        🌐 Canales de Venta
                    </button>
                    <button id="generate-lead-gen-plan-btn" class="text-sm bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        🚀 Plan de Captación
                    </button>
                    <button id="show-content-studio-btn" class="text-sm bg-fuchsia-600 hover:bg-fuchsia-500 text-white font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        ✨ Estudio de Contenido
                    </button>
                    <button id="tieredBuilderBtn" class="text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback">
                        📊 Propuesta por Niveles
                    </button>
                    <div class="flex items-center gap-2">
                        <button id="currency-toggle-btn" disabled class="text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 font-semibold py-2 px-4 rounded-lg transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed btn-press-feedback"></button>
                        <button id="configure-rate-btn" class="h-8 w-8 flex items-center justify-center rounded-full bg-slate-700 text-slate-300 hover:bg-slate-600 transition btn-press-feedback" aria-label="Configurar tipo de cambio manual">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                              <path d="M10 3.75a2 2 0 100 4 2 2 0 000-4zM4.375 3.75a2 2 0 100 4 2 2 0 000-4zM15.625 3.75a2 2 0 100 4 2 2 0 000-4zM10 12.25a2 2 0 100 4 2 2 0 000-4zM4.375 12.25a2 2 0 100 4 2 2 0 000-4zM15.625 12.25a2 2 0 100 4 2 2 0 000-4z" />
                           </svg>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Contenedor Principal -->
            <div id="appContainer" class="flex flex-col lg:grid lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- COLUMNA 1 & 2: Formulario -->
                <div class="lg:col-span-2 xl:col-span-3 space-y-6">
                    <div id="proposal-details-container" class="card-bg p-5 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-semibold accent-color">1. Iniciar Nueva Propuesta</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div>
                                <label for="clientName" class="block text-sm font-medium text-slate-300 mb-1">Nombre del Cliente:</label>
                                <input type="text" id="clientName" placeholder="Ej: Juan Pérez" class="styled-input w-full">
                            </div>
                            <div>
                                <label for="clientCompany" class="block text-sm font-medium text-slate-300 mb-1">Empresa del Cliente:</label>
                                <input type="text" id="clientCompany" placeholder="Ej: Innovatech Solutions" class="styled-input w-full">
                            </div>
                            <div class="md:col-span-2">
                                <label for="clientEmail" class="block text-sm font-medium text-slate-300 mb-1">Email del Cliente:</label>
                                <input type="email" id="clientEmail" placeholder="Ej: juan.perez@example.com" class="styled-input w-full">
                            </div>
                            
                            <div class="border-t border-slate-700 my-2 md:col-span-2"></div>

                            <div>
                                <label for="webName" class="block text-sm font-medium text-slate-300 mb-1">Nombre del Proyecto:</label>
                                <input type="text" id="webName" placeholder="Ej: Nuevo Sitio Corporativo" class="styled-input w-full">
                            </div>
                            <div>
                                <label for="serviceType" class="block text-sm font-medium text-slate-300 mb-1">Tipo de Propuesta:</label>
                                <select id="serviceType" class="styled-input styled-select w-full accent-color">
                                    <option value="puntual">Proyecto de Pago Único</option>
                                    <option value="mensual">Servicio Mensual (Retainer)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CONTENEDOR DEL CHAT IA -->
                    <div id="ai-assistant-container" class="card-bg p-5 rounded-xl shadow-lg flex flex-col h-[70vh] lg:h-[500px] relative">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <h2 class="text-2xl font-semibold text-purple-400">Asistente IA de Ventas</h2>
                                <span id="ai-status-indicator" class="ml-3 h-3 w-3 bg-red-500 rounded-full"></span>
                            </div>
                            <div class="flex items-center gap-3">
                                <button id="toggle-chat-focus-btn" class="text-slate-400 hover:text-white transition hidden lg:flex items-center justify-center h-8 w-8 rounded-full hover:bg-slate-700" aria-label="Modo Enfoque" title="Activar Modo Enfoque">
                                    <svg id="focus-icon-expand" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5" />
                                    </svg>
                                    <svg id="focus-icon-collapse" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                                <button id="clear-chat-history-btn" class="text-slate-400 hover:text-white transition" aria-label="Limpiar historial del chat" title="Limpiar historial del chat actual">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z" clip-rule="evenodd" /></svg>
                                </button>
                                <div class="theme-switch-wrapper">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="icon"><path d="M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.06 1.06l1.06 1.06z"/></svg>
                                    <label class="theme-switch" for="chat-theme-toggle">
                                        <input type="checkbox" id="chat-theme-toggle">
                                        <span class="slider"></span>
                                    </label>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="icon"><path fill-rule="evenodd" d="M7.455 2.164A.75.75 0 018 2.5v1.25a.75.75 0 01-1.5 0V3.065a8.5 8.5 0 00-5.438 6.942 9.009 9.009 0 003.354 7.512.75.75 0 01-1.026 1.09 10.509 10.509 0 01-3.88-8.602A10.001 10.001 0 018.75 2.055a.75.75 0 01-.545-.644.75.75 0 01.25-.748zM12.23 18.63a.75.75 0 01.748-.25.75.75 0 01.644.545 10.001 10.001 0 01-10.748 3.55 1.5 1.5 0 01-.32-2.924 10.05 10.05 0 015.613-5.562.75.75 0 01.966 1.139 8.548 8.548 0 00-4.63 4.725 8.5 8.5 0 007.477-2.168z" clip-rule="evenodd"/></svg>
                                </div>
                            </div>
                        </div>

                        <div id="chat-mode-selector" class="flex justify-start mb-2 border-b border-slate-700 -mx-5 px-5">
                            <button data-mode="builder" class="chat-mode-btn active">Constructor</button>
                            <button data-mode="entrenamiento" class="chat-mode-btn">Entrenamiento</button>
                            <button data-mode="objection" class="chat-mode-btn">Objeciones</button>
                            <button data-mode="analyze" class="chat-mode-btn">Analizar Conversación</button>
                        </div>
                        
                        <!-- NUEVO: API KEY OVERLAY -->
                        <div id="api-key-overlay" class="absolute inset-0 bg-slate-800/80 backdrop-blur-sm z-10 flex flex-col items-center justify-center p-4 rounded-xl hidden">
                            <div class="text-center max-w-sm">
                                <h3 class="text-lg font-semibold text-white">Configuración del Asistente IA</h3>
                                <p class="text-sm text-slate-300 mt-2 mb-4">
                                    Para activar el Asistente, por favor introduce tu propia API Key de Google AI.
                                </p>
                                <div class="flex gap-2">
                                    <input type="password" id="inlineApiKeyInput" class="styled-input w-full" placeholder="Pega tu clave aquí">
                                    <button id="save-inline-api-key-btn" class="accent-bg font-medium py-2 px-4 rounded-lg transition btn-press-feedback">Guardar</button>
                                </div>
                                <p class="text-xs text-slate-400 mt-2">
                                    ¿No tienes una clave? 
                                    <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer" class="accent-color hover:underline font-semibold">
                                        Obtén una API Key en Google AI Studio &rarr;
                                    </a>
                                </p>
                            </div>
                        </div>
                        
                        <div id="chat-messages" class="flex-grow space-y-4 overflow-y-auto p-2 bg-slate-900/50 rounded-lg border border-slate-700">
                            <!-- Los mensajes del chat aparecerán aquí dinámicamente -->
                        </div>

                        <div class="flex items-center gap-2 pt-4 border-t border-slate-700">
                            <input type="text" id="chat-input" class="w-full styled-input" placeholder="Ej: 'Necesito una web para un fotógrafo...' ">
                            <button id="chat-send-btn" class="accent-bg font-bold p-3 rounded-lg shadow-md transition duration-300 btn-press-feedback">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                                    <path d="M3.105 2.289a.75.75 0 00-.826.95l1.414 4.949a.75.75 0 00.95.546l4.209-1.202a.75.75 0 01.531 1.343l-4.21 1.202a.75.75 0 00-.95.546l-1.414 4.95a.75.75 0 00.826.95L19 10.354a.75.75 0 000-1.418L3.105 2.289z" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div id="solution-config-container" class="card-bg p-5 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-semibold accent-color">2. Configurar la Solución</h2>
                        <p class="text-sm text-slate-400 mb-4">Elige una solución integral (Paquete/Plan) o selecciona ítems específicos.</p>
                        
                        <div id="modeIndicator" class="mb-4 p-3 rounded-lg border border-yellow-500 bg-yellow-900/20 text-yellow-300 font-bold text-center">
                            Modo Activo: Selección Personalizada
                        </div>
                        
                        <div class="flex flex-col sm:flex-row gap-4 mb-4">
                            <button id="clearSelectionsBtn" class="hidden flex-grow bg-red-600 text-white font-bold py-2 rounded-lg hover:bg-red-700 transition shadow-lg btn-press-feedback">
                                Limpiar Selección y Activar Modo Personalizado
                            </button>
                            <button id="add-custom-service-modal-btn" class="flex-grow bg-purple-600 text-white font-bold py-2 rounded-lg hover:bg-purple-700 transition shadow-lg btn-press-feedback">
                                + Añadir Ítem Personalizado
                            </button>
                        </div>

                        <div id="monthlyPlansContainer" class="hidden space-y-3"></div>

                        <!-- ESTRUCTURA PARA SERVICIOS MENSUALES (SISTEMA DE PUNTOS) -->
                        <div id="monthlyServicesContainer" class="hidden space-y-6">
                            <div id="pointsDisplay" class="points-display flex justify-between items-center">
                                <div>Puntos de Desarrollo: <span id="planPointsCounter">0 / 0</span></div>
                                <button id="buyExtraPointsBtn" class="hidden text-sm bg-yellow-600 text-slate-900 font-bold py-1 px-3 rounded-lg hover:bg-yellow-500 transition shadow-md btn-press-feedback">+ Comprar Puntos</button>
                            </div>
                            <div id="servicesTabs" class="space-y-3">
                                <!-- Categorías se insertarán dinámicamente aquí -->
                            </div>
                        </div>

                        <div id="servicesSelection" class="space-y-3"></div>
                    </div>
                </div>

                <!-- COLUMNA 3 & 4: Resumen y Dashboard -->
                <div class="lg:col-span-1 xl:col-span-1 space-y-6">
                    
                    <div id="summaryCard" class="card-bg p-5 rounded-xl shadow-lg top-4">
                        <h2 class="text-2xl font-semibold accent-color">3. Calcular Rentabilidad</h2>
                        <div class="mb-4">
                            <label for="marginPercentage" class="block text-sm font-medium text-slate-300 mb-2">Tu Margen de Ganancia (%)</label>
                            <input type="number" id="marginPercentage" value="60" min="0" class="w-full styled-input accent-color">
                            <p id="marginFeedback" class="text-xs mt-1 text-slate-400"></p>
                        </div>
                        <div class="text-lg font-bold space-y-2 pt-4 border-t border-slate-700">
                            <p>Costo Producción: <span id="totalDeveloperPrice">$0.00 USD</span></p>
                            <p class="accent-color">Precio a Cliente: <span id="totalClientPrice">$0.00 USD</span></p>
                        </div>
                        <div class="mt-4">
                            <label for="isUrgentCheckbox" class="flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-slate-700 transition">
                                <input type="checkbox" id="isUrgentCheckbox" class="custom-checkbox">
                                <span class="text-sm font-medium text-slate-200">Marcar como Propuesta Urgente</span>
                            </label>
                        </div>
                        <button id="addTask" class="w-full accent-bg font-bold py-3 mt-2 rounded-lg transition shadow-xl btn-press-feedback">Guardar Propuesta</button>
                        <h3 class="text-md font-semibold mt-6 mb-2 text-slate-300 border-t border-slate-700 pt-4">Resumen de la Solución:</h3>
                        <div id="selectedItems" class="text-sm space-y-2 p-3 bg-slate-900 rounded-lg h-40 overflow-y-auto border border-slate-700">
                            <p class="text-slate-400">Los servicios seleccionados aparecerán aquí.</p>
                        </div>
                    </div>

                    <div id="saved-proposals-container" class="card-bg p-5 rounded-xl shadow-lg">
                        <h2 class="text-2xl font-semibold text-pink-400">4. Pipeline de Ventas</h2>
                        <div id="tasksDashboard" class="space-y-4"><p class="text-slate-400">Aún no hay propuestas guardadas.</p></div>
                        <div class="mt-4 flex gap-2">
                            <button id="exportPdfBtn" class="flex-grow bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-500 transition shadow-lg action-button btn-press-feedback">Generar Documentos</button>
                            <button id="clearAllTasksBtn" class="flex-grow bg-red-800 text-white font-bold py-2 rounded-lg hover:bg-red-700 transition shadow-lg action-button btn-press-feedback">Limpiar Todo</button>
                        </div>
                        <div class="mt-4 text-sm text-slate-500 text-center border-t border-slate-700 pt-4">
                            <a href="pricing.html" class="accent-color hover:underline">Gestionar Catálogo de Servicios</a>
                        </div>
                    </div>
                    <div id="messageContainer" class="mt-4"></div>
                </div>
            </div>
            
            <!-- FOOTER -->
            <footer class="text-center py-6 mt-10 border-t border-slate-700">
                <p class="text-sm text-slate-400">Desarrollado con ❤️ por <a href="https://websoin.netlify.app/" target="_blank" rel="noopener noreferrer" class="font-semibold accent-color hover:underline">SO-&gt;IN Soluciones Informáticas</a></p>
            </footer>
        </div>
    </div>
    
    <!-- MODO ENFOQUE CHAT -->
    <div id="ai-chat-focus-container" class="hidden fixed inset-0 z-[80000] p-4 sm:p-8 md:p-16 lg:p-24 bg-slate-900/50 backdrop-blur-sm opacity-0 transition-opacity duration-300">
        <!-- El contenedor del chat se moverá aquí -->
    </div>

    <!-- MODALES -->
    <div id="notificationModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-sm rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold flex justify-between items-center">
                <h3 id="notificationTitle" class="text-lg"></h3>
                <button id="close-notification-modal-btn-x" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5">
                <p id="notificationMessage" class="text-sm text-slate-300"></p>
                <div class="mt-4 text-right">
                    <button id="close-notification-modal-btn-accept" class="bg-slate-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-slate-500 transition duration-300">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
    <div id="customServiceModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-md rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-purple-600 flex justify-between items-center">
                <h3 class="text-lg">Añadir Ítem Personalizado</h3>
                <button id="close-custom-service-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4">
                <div>
                    <label for="customServiceName" class="block text-sm font-medium text-slate-300 mb-1">Nombre del Servicio:</label>
                    <input type="text" id="customServiceName" class="w-full styled-input" placeholder="Ej: Integración con API de terceros">
                </div>
                <div>
                    <label for="customServicePrice" class="block text-sm font-medium text-slate-300 mb-1">Costo de Producción (USD):</label>
                    <input type="number" id="customServicePrice" class="w-full styled-input" placeholder="0.00" min="0">
                </div>
                <div class="text-right pt-2">
                    <button id="add-custom-service-btn" class="bg-purple-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-purple-700 transition">Añadir Ítem</button>
                </div>
            </div>
        </div>
    </div>
     <div id="extraPointsModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-md rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-yellow-600 flex justify-between items-center">
                <h3 class="text-lg text-slate-900">Comprar Puntos Extra</h3>
                <button id="close-extra-points-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4">
                <p class="text-sm text-slate-300">Añade puntos de desarrollo adicionales a tu plan mensual para incluir más servicios.</p>
                <div>
                    <label for="extraPointsAmount" class="block text-sm font-medium text-slate-300 mb-1">Cantidad de Puntos a Comprar:</label>
                    <input type="number" id="extraPointsAmount" class="w-full styled-input" placeholder="0" min="1">
                </div>
                <p id="extraPointsCostFeedback" class="text-sm text-center font-bold text-yellow-300 h-5"></p>
                <div class="text-right pt-2">
                    <button id="add-extra-points-btn" class="bg-yellow-600 text-slate-900 font-bold py-2 px-4 rounded-lg hover:bg-yellow-500 transition">Añadir Puntos</button>
                </div>
            </div>
        </div>
    </div>
    <div id="pdfOptionsModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-md rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-blue-600 flex justify-between items-center">
                <h3 class="text-lg">Generar Documentos de Propuesta</h3>
                <button id="close-pdf-options-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4 max-h-[80vh] overflow-y-auto">
                <div class="pt-2 space-y-3">
                    <button id="generate-client-pdf-btn" class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition flex justify-center items-center gap-2 btn-press-feedback" disabled>
                        <svg class="spinner h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span class="btn-text">Generar Propuesta para Cliente</span>
                    </button>
                    <button id="generate-internal-pdf-btn" class="w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-500 transition flex justify-center items-center gap-2 btn-press-feedback" disabled>
                        <svg class="spinner h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                             <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span class="btn-text">Generar Orden de Trabajo Interna</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="brandingModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-md rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-teal-600 flex justify-between items-center">
                <h3 class="text-lg">Configuración de Marca</h3>
                <button id="close-branding-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4">
                <div>
                    <label for="brandLogoInput" class="block text-sm font-medium text-slate-300 mb-2">Tu Logo (para UI y PDFs):</label>
                    <input type="file" id="brandLogoInput" accept="image/*" class="w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-teal-900 file:text-teal-300 hover:file:bg-teal-800">
                    <button id="removeBrandLogo" class="text-xs text-red-400 hover:underline mt-1">Quitar logo</button>
                </div>
                <div>
                    <label for="brandColorInput" class="block text-sm font-medium text-slate-300 mb-2">Color de Acento:</label>
                    <input type="color" id="brandColorInput" class="w-full h-10 p-1 bg-slate-700 border border-slate-600 rounded-lg cursor-pointer">
                </div>
                <div>
                    <label for="brandResellerInfo" class="block text-sm font-medium text-slate-300 mb-1">Tus Datos de Contacto (por defecto):</label>
                    <textarea id="brandResellerInfo" class="w-full styled-textarea" rows="3" placeholder="Tu Nombre / Nombre de tu Agencia&#10;tupaginaweb.com&#10;tu@email.com"></textarea>
                </div>
                <div>
                    <label for="brandTerms" class="block text-sm font-medium text-slate-300 mb-1">Tus Términos y Condiciones (por defecto):</label>
                    <textarea id="brandTerms" class="w-full styled-textarea" rows="4" placeholder="Ej: Validez de la propuesta: 15 días. Condiciones de pago: 50% por adelantado..."></textarea>
                </div>
                <div class="text-right pt-2">
                    <button id="save-branding-btn" class="bg-teal-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-teal-700 transition">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>
    <div id="tieredBuilderModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-6xl rounded-xl shadow-2xl transform scale-95 max-h-[90vh] flex flex-col" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-indigo-600 flex justify-between items-center flex-shrink-0">
                <h3 class="text-lg">Constructor de Propuesta por Niveles</h3>
                <button id="close-tiered-builder-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 flex-grow overflow-y-auto">
                <div class="text-center mb-4">
                    <button id="tiered-builder-tts-btn" class="inline-flex items-center justify-center gap-2 text-sm bg-indigo-700 text-indigo-200 hover:bg-indigo-500 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback" aria-label="Escuchar explicación de la herramienta">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                          <path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.348 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.944.945 2.56.276 2.56-1.06V4.06zM18.584 14.828a1.5 1.5 0 000-2.121 5.03 5.03 0 00-7.113 0 1.5 1.5 0 001.06 2.561 2.03 2.03 0 012.872 0 1.5 1.5 0 002.121 0z" />
                          <path d="M16.463 17.56a8.966 8.966 0 000-11.121 1.5 1.5 0 00-2.12 2.121A5.966 5.966 0 0112 12a5.966 5.966 0 01-2.343-4.44 1.5 1.5 0 10-2.121-2.121A8.966 8.966 0 0012 21a8.966 8.966 0 004.463-3.44z" />
                        </svg>
                        <span class="tts-button-text">Escuchar Explicación</span>
                    </button>
                </div>
                <p class="text-sm text-slate-400 mb-4 italic">Usa el nivel Básico para lo esencial, el Recomendado para la solución ideal, y el Completo para añadir todos los extras de alto valor.</p>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4" id="tiered-builder-columns">
                    <!-- Columnas se generarán aquí -->
                </div>
            </div>
            <div class="p-4 bg-slate-900/50 rounded-b-xl flex-shrink-0 flex justify-end items-center gap-4">
                 <button id="cancel-tiered-builder-btn" class="bg-slate-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-slate-500 transition">Cancelar</button>
                <button id="add-tiered-proposal-btn" class="bg-indigo-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-indigo-700 transition">Guardar Propuesta por Niveles</button>
            </div>
        </div>
    </div>
    
    <!-- ESTUDIO DE CONTENIDO MODAL -->
    <div id="contentStudioModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-4xl rounded-xl shadow-2xl transform scale-95 max-h-[90vh] flex flex-col" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-fuchsia-600 flex justify-between items-center flex-shrink-0">
                <h3 class="text-lg">✨ Estudio de Contenido para Redes</h3>
                <button id="close-content-studio-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 flex-grow overflow-y-auto">
                 <div class="text-center mb-4">
                    <button id="content-studio-tts-btn" class="inline-flex items-center justify-center gap-2 text-sm bg-fuchsia-700 text-fuchsia-200 hover:bg-fuchsia-500 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback" aria-label="Escuchar explicación de la herramienta">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                          <path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.348 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.944.945 2.56.276 2.56-1.06V4.06zM18.584 14.828a1.5 1.5 0 000-2.121 5.03 5.03 0 00-7.113 0 1.5 1.5 0 001.06 2.561 2.03 2.03 0 012.872 0 1.5 1.5 0 002.121 0z" />
                          <path d="M16.463 17.56a8.966 8.966 0 000-11.121 1.5 1.5 0 00-2.12 2.121A5.966 5.966 0 0112 12a5.966 5.966 0 01-2.343-4.44 1.5 1.5 0 10-2.121-2.121A8.966 8.966 0 0012 21a8.966 8.966 0 004.463-3.44z" />
                        </svg>
                        <span class="tts-button-text">Escuchar Explicación</span>
                    </button>
                </div>
                <!-- Pestaña Generador de Textos -->
                <div>
                    <p class="text-sm text-slate-400 mb-4">Crea textos persuasivos para tus redes sociales en segundos. Elige tus opciones y deja que la IA haga la magia.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="text-service-to-promote" class="block text-sm font-medium text-slate-300 mb-1">Servicio a Promocionar:</label>
                            <select id="text-service-to-promote" class="styled-input styled-select w-full"></select>
                        </div>
                        <div>
                            <label for="text-cta" class="block text-sm font-medium text-slate-300 mb-1">Llamada a la Acción (Opcional):</label>
                            <input type="text" id="text-cta" class="styled-input w-full" placeholder="Ej: ¡Contáctame para una auditoría!">
                        </div>
                        <div>
                            <label for="text-platform" class="block text-sm font-medium text-slate-300 mb-1">Plataforma:</label>
                            <select id="text-platform" class="styled-input styled-select w-full">
                                <option value="instagram">Instagram</option>
                                <option value="linkedin">LinkedIn</option>
                                <option value="facebook">Facebook</option>
                            </select>
                        </div>
                        <div>
                            <label for="text-tone" class="block text-sm font-medium text-slate-300 mb-1">Tono:</label>
                            <select id="text-tone" class="styled-input styled-select w-full">
                                <option value="profesional">Profesional</option>
                                <option value="amigable">Amigable</option>
                                <option value="urgente">Urgente</option>
                                <option value="inspirador">Inspirador</option>
                            </select>
                        </div>
                    </div>
                    <button id="generate-text-btn" class="w-full bg-fuchsia-600 text-white font-bold py-2 rounded-lg hover:bg-fuchsia-700 transition">Generar Texto</button>
                    <div id="text-result-container" class="mt-4 hidden p-4 bg-slate-800 rounded-lg relative">
                        <div id="text-spinner" class="absolute inset-0 flex items-center justify-center hidden">
                             <svg class="spinner h-8 w-8 text-fuchsia-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                        </div>
                        <p id="generated-text" class="text-slate-200 whitespace-pre-wrap"></p>
                        <button id="copy-generated-text-btn" class="hidden absolute top-2 right-2 text-xs bg-slate-900 text-cyan-300 font-bold py-1 px-2 rounded hover:bg-cyan-800 transition">Copiar</button>
                    </div>
                    <!-- NUEVO: SECCIÓN PARA GENERAR PROMPT DE IMAGEN -->
                    <div id="image-prompt-section" class="mt-4 pt-4 border-t border-slate-700 hidden">
                        <button id="generate-image-prompt-btn" class="w-full bg-indigo-600 text-white font-bold py-2 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center gap-2 btn-press-feedback">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-3.69l-2.76-2.76a.75.75 0 00-1.06 0l-2.122 2.122a.75.75 0 01-1.06 0L9.47 8.28a.75.75 0 00-1.06 0L6.22 10.47a.75.75 0 01-1.06 0l-2.41-2.41zM16.75 5H3.25a.75.75 0 00-.75.75v.04l2.439 2.44a.75.75 0 001.06 0l2.122-2.122a.75.75 0 011.06 0l2.12 2.12a.75.75 0 001.06 0l2.44-2.44V5.75a.75.75 0 00-.75-.75z" clip-rule="evenodd" /></svg>
                            <span>¿Deseas un prompt para generar la imagen ideal?</span>
                        </button>
                        <div id="image-prompt-result-container" class="mt-4 hidden p-4 bg-slate-900 rounded-lg relative">
                            <div id="image-prompt-spinner" class="absolute inset-0 flex items-center justify-center hidden">
                                <svg class="spinner h-8 w-8 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                            </div>
                            <p id="generated-image-prompt" class="text-slate-200 whitespace-pre-wrap font-mono text-sm"></p>
                            <button id="copy-generated-image-prompt-btn" class="hidden absolute top-2 right-2 text-xs bg-slate-800 text-cyan-300 font-bold py-1 px-2 rounded hover:bg-cyan-700 transition">Copiar Prompt</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Exchange Rate Modal -->
    <div id="exchangeRateModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-sm rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-gray-700 flex justify-between items-center">
                <h3 class="text-lg">Configurar Tipo de Cambio (ARS)</h3>
                <button id="close-exchange-rate-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4">
                <p class="text-sm text-slate-300">Introduce el valor de 1 USD en ARS. Este tipo de cambio se usará para mostrar los precios en pesos argentinos.</p>
                <div>
                    <label for="exchangeRateInput" class="block text-sm font-medium text-slate-300 mb-1">1 USD = ??? ARS</label>
                    <input type="number" id="exchangeRateInput" class="w-full styled-input" placeholder="Ej: 950.50" min="0">
                </div>
                <div class="text-right pt-2">
                    <button id="save-exchange-rate-btn" class="bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition">Guardar Cotización</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Lead Gen Plan Modal -->
    <div id="leadGenPlanModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-xl rounded-xl shadow-2xl overflow-hidden transform scale-95" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-green-600 flex justify-between items-center">
                <h3 class="text-lg">🚀 Generar Plan de Captación de Clientes (7 Días)</h3>
                <button id="close-lead-gen-plan-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-5 space-y-4">
                <p class="text-sm text-slate-300">Define la estrategia para que la IA cree un plan de acción semanal para que consigas tus primeros clientes.</p>
                <div class="text-center my-2">
                    <button id="lead-gen-tts-btn" class="inline-flex items-center justify-center gap-2 text-sm bg-green-700 text-green-200 hover:bg-green-500 font-semibold py-2 px-4 rounded-lg transition shadow-md btn-press-feedback" aria-label="Escuchar explicación de la herramienta">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                          <path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.348 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.944.945 2.56.276 2.56-1.06V4.06zM18.584 14.828a1.5 1.5 0 000-2.121 5.03 5.03 0 00-7.113 0 1.5 1.5 0 001.06 2.561 2.03 2.03 0 012.872 0 1.5 1.5 0 002.121 0z" />
                          <path d="M16.463 17.56a8.966 8.966 0 000-11.121 1.5 1.5 0 00-2.12 2.121A5.966 5.966 0 0112 12a5.966 5.966 0 01-2.343-4.44 1.5 1.5 0 10-2.121-2.121A8.966 8.966 0 0012 21a8.966 8.966 0 004.463-3.44z" />
                        </svg>
                        <span class="tts-button-text">Escuchar Explicación</span>
                    </button>
                </div>
                <div>
                    <label for="lead-gen-plan-service-select" class="block text-sm font-medium text-slate-300 mb-1">Servicio Principal a Promocionar:</label>
                    <select id="lead-gen-plan-service-select" class="styled-input styled-select w-full"></select>
                </div>
                <div>
                    <label for="lead-gen-plan-audience" class="block text-sm font-medium text-slate-300 mb-1">Público Objetivo:</label>
                    <input type="text" id="lead-gen-plan-audience" class="w-full styled-input" placeholder="Ej: Fotógrafos de bodas, restaurantes locales, etc.">
                </div>
                <div class="text-right pt-2">
                    <button id="generate-lead-gen-plan-pdf-btn" class="bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 transition flex justify-center items-center gap-2 btn-press-feedback">
                        <svg class="spinner h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                        <span class="btn-text">Generar Plan en PDF</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sales Channels Modal -->
    <div id="salesChannelsModal" class="hidden fixed inset-0 flex items-center justify-center modal-overlay opacity-0">
        <div class="card-bg w-full max-w-2xl rounded-xl shadow-2xl transform scale-95 max-h-[90vh] flex flex-col" role="dialog" aria-modal="true">
            <div class="modal-header p-4 rounded-t-xl text-white font-bold bg-blue-800 flex justify-between items-center flex-shrink-0">
                <h3 class="text-lg">🌐 Canales de Venta Recomendados</h3>
                <button id="close-sales-channels-modal-btn" class="text-2xl font-bold hover:text-slate-200">&times;</button>
            </div>
            <div class="p-6 flex-grow overflow-y-auto space-y-6">
                <div>
                    <h4 class="text-lg font-semibold text-cyan-400 mb-2">Plataformas Freelance</h4>
                    <ul class="list-disc list-inside space-y-2 text-slate-300 text-sm">
                        <li><b>Upwork:</b> Ideal para proyectos de alto valor y clientes internacionales. Requiere un perfil muy profesional en inglés.</li>
                        <li><b>Workana & Freelancer.com:</b> Excelentes para empezar y conseguir proyectos en el mercado de habla hispana.</li>
                        <li><b>Fiverr:</b> Enfocado en "gigs" o servicios empaquetados. Perfecto para ofrecer servicios específicos como "Landing Page en 7 días".</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold text-cyan-400 mb-2">Grupos de Facebook Estratégicos (Ejemplos)</h4>
                    <p class="text-xs text-slate-400 mb-3 italic">Importante: Antes de publicar, lee las reglas de cada grupo. La clave es aportar valor, no solo vender.</p>
                    <ul class="list-disc list-inside space-y-3 text-slate-300 text-sm">
                        <li>
                            <b>Grupos de Emprendedores y PyMEs:</b>
                            <ul class="list-disc list-inside ml-4 text-slate-400">
                                <li>Busca términos como "Emprendedores [Tu País]", "Marketing para PyMEs", "Negocios Online".</li>
                                <li>Aporta valor respondiendo dudas sobre tecnología, webs, etc. y luego ofrece tus servicios.</li>
                            </ul>
                        </li>
                        <li>
                            <b>Grupos de Nicho Específico:</b>
                            <ul class="list-disc list-inside ml-4 text-slate-400">
                                <li>¿Tu cliente ideal son los fotógrafos? Únete a "Fotógrafos Profesionales [Tu Ciudad]".</li>
                                <li>¿Restaurantes? Busca "Dueños de Restaurantes y Bares". Sé el experto en tecnología dentro de su comunidad.</li>
                            </ul>
                        </li>
                         <li>
                            <b>Grupos de Agencias y Freelancers (Networking):</b>
                             <ul class="list-disc list-inside ml-4 text-slate-400">
                                <li>Busca "Agencias de Marketing Digital", "Diseñadores Web Freelance".</li>
                                <li>Aquí puedes encontrar colaboraciones y subcontrataciones. A menudo una agencia de marketing necesita un desarrollador de confianza.</li>
                             </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


    <!-- TOUR GUIADO -->
    <div id="tour-overlay" class="hidden fixed inset-0 bg-black/70 opacity-0 transition-opacity duration-300 pointer-events-none"></div>
    <div id="tour-tooltip" class="hidden fixed card-bg max-w-sm rounded-xl shadow-2xl p-5 border-2 border-[var(--accent-color)] opacity-0">
        <div id="tour-arrow" class="tour-arrow"></div>
        <p id="tour-text" class="text-slate-200"></p>
        <div class="flex justify-between items-center mt-4">
            <span id="tour-step-counter" class="text-xs text-slate-400"></span>
            <div>
                <button id="tour-prev" class="text-sm bg-slate-700 text-slate-200 py-1 px-3 rounded-md hover:bg-slate-600 transition">Anterior</button>
                <button id="tour-next" class="text-sm accent-bg font-medium py-1 px-3 rounded-md transition">Siguiente</button>
                <button id="tour-end" class="text-sm bg-red-600 text-white font-medium py-1 px-3 rounded-md hover:bg-red-700 transition">Finalizar</button>
            </div>
        </div>
    </div>
    
    <!-- WHATSAPP FLOAT BUTTON -->
    <a id="whatsapp-float-btn" href="#" target="_blank" rel="noopener noreferrer" class="fixed bottom-5 right-5 z-[85000] h-14 w-14 bg-[#25D366] rounded-full flex items-center justify-center shadow-lg transform transition hover:scale-110" title="Contactar a Soporte">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.487 5.235 3.487 8.413.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.447-4.435-9.884-9.888-9.884-5.448 0-9.886 4.434-9.889 9.885.002 2.135.61 4.138 1.737 5.867l-1.163 4.244 4.352-1.141z" />
        </svg>
    </a>

    <!-- Carga de JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module" src="./js/main.js"></script>
</body>
</html>